<form class="offcanvas offcanvas-end offcanvas-narrow" tabindex="-1" id="editServiceCanvas" action="/admin/services/update" method="POST">
    <div class="offcanvas-header">
        <div class="d-flex w-100 justify-content-between align-items-center">
            <div class="d-flex">
                <button disabled class="btn btn-md btn-icon" style="border-radius: 100%">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-box"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5" /><path d="M12 12l8 -4.5" /><path d="M12 12l0 9" /><path d="M12 12l-8 -4.5" /></svg>
                </button>
                <h2 class="offcanvas-title">Service ({{ service.name }})</h2>
            </div>
            <div>
                <a class="btn btn btn-outline btn-danger btn-md btn-icon" style="border-radius: 100% " data-bs-toggle="modal" data-bs-target="#deleteServiceModal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-1 icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>
                </a>
                <button class="btn btn-primary btn-md btn-icon" style="border-radius: 100%">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-1 icon-tabler icons-tabler-outline icon-tabler-check"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <path d="M5 12l5 5l10 -10" /> </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="offcanvas-body d-flex flex-column">
        <div>
            <div>
                <input type="hidden" name="id" value="{{ service.id }}">
                <div class="form-group">
                    <label for="name" class="form-label">Name</label>
                    <input id="name" type="text" class="form-control" name="name" value="{{ service.name }}" required>
                </div>
                <div class="form-group">
                    <label for="description" class="form-label">Description</label>
                    <input  id="description" type="text" class="form-control" name="description" value="{{ service.description }}" required>
                </div>
                <div class="form-group">
                    <label for="execStart" class="form-label">ExecStart</label>
                    <input  id="execStart" type="text" class="form-control" name="execStart" value="{{ service.execStart }}" required>
                </div>
                <div class="form-group">
                    <label for="workingDirectory" class="form-label">WorkingDirectory</label>
                    <input id="workingDirectory" type="text" class="form-control" name="workingDirectory" value="{{ service.workingDirectory }}" required>
                </div>
                <div class="form-group">
                    <label for="users" class="form-label">Users</label>
                    <select class="form-select tomselected ts-hidden-accessible" id="users" name="users" multiple="multiple" tabindex="-1">
                        {% for user in users %}
                        <option selected value="{{ user }}">{{ user }}</option>
                        {% endfor %}
                        {% for user in availableUsers %}
                        <option value="{{ user.username }}">{{ user.username }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
        </div>
        <div class="mt-auto space-y">
            <button type="submit" class="btn btn-primary w-100" data-bs-dismiss="offcanvas">Save</button>
        </div>
    </div>
</form>